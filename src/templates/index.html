<!DOCTYPE html>
<html lang=?>
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <title>Parcial-2/18/04/2023</title>
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-aFq/bzH65dt+w6FI2ooMVUpc+21e0SRygnTpmBvdBgSdnuTN7QbdgL+OapgHtvPp" crossorigin="anonymous">
    </head>
    <body>
        <hr>
        <hr>
        <h1 style="text-align:center">Bienvenidos</h1>
        <hr>
        <hr>
        <div class="container pt-4">
            <center>
                <h4 class="p-4">Registro De Productos</h4>
            </center>
            <div class="row">
                <div class="row">
                    <div class="col-md-4">
                        <hr>
                        <center>
                            Formulario
                        </center>
                        <hr>
                        <div class="card card-doby">
                            <form action="/guardar_producto" method="post" id="formulario">
                                <div class="form-group pt-2">
                                    <label for="Name">Nombre Producto:</label>
                                    <input type="text" class="form-control" name="nombre_producto" id="nombre_producto">
                                </div>
                                <div class="form-group pt-2">
                                    <label for="Name">Valor Producto:</label>
                                    <input type="text" class="form-control" name="valor_producto" id="valor_producto">
                                </div>
                                <div class="form-group pt-2">
                                    <label for="Name">Cantidad:</label>
                                    <input type="text" class="form-control" name="cantidad" id="cantidad"> 
                                </div>
                                <div class="form-group pt-4 d-grid gap-2">
                                    <button type="submit" class="btn btn-primary" id="boton">Guardar Informacion</button>
                                </div>
                                
                            </form>
                        </div>


                    </div>
                    <div class="col-md-8">
                        <hr>
                        <table class="table table-triped">
                            <thead>
                                <tr>
                                    <td>Nombre</td>
                                    <td>Apellido</td>
                                    <td>Telefono</td>
                                    <td>Opciones</td>
                                </tr>
                            </thead>

                            <tbody>
                                {% for producto in productos %}
                                <tr>
                                    <td id="tabla_nombre{{producto[0]}}">{{ producto[1] }}</td>
                                    <td id="tabla_valor{{producto[0]}}">{{ producto[2] }}</td>
                                    <td id="tabla_cantidad{{producto[0]}}">{{ producto[3] }}</td>
                                    <td>

                                        <button class="btn btn-danger btn-delete btn-sm" 
                                        onclick="obtenerDatos('{{producto[0]}}')">Editar</button>
                                        <a class="btn btn-danger btn-delete btn-sm" 
                                        onclick="return confirm('Â¿Esta Seguro Que Deseas Eliminar El Registro?')" 
                                        href={{ url_for('eliminar' , id_producto=producto[0])}}>Eliminar</a>
                                    </td>
                                </tr>
                                {% endfor %}
                            </tbody>
                        </table>
                        <center>
                             <!-- comentario en mensaje-->
                            {% with messages = get_flashed_messages() %}
                            <!-- verificamos que haya algun mensaje-->
                                {% if messages %}
                                    {% for message in messages%}
                                        {{ message }}
                                    {%endfor%}
                                {% endif %}
                            {% endwith %}
                        </center>
                    </div>
                </div>
            </div>
        </div>
        <hr>
        <hr>

        <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha2/dist/js/bootstrap.bundle.min.js" integrity="sha384-qKXV1j0HvMUeCBQ+QVp7JcfGl760yU08IQ+GpUo5hlbpg51QRiuqHAJz8+BrxE/N" crossorigin="anonymous"></script>
        <script src="{{url_for('static', filename='js/obtenerDatos.js')}}"></script>
    </body>
</html>

